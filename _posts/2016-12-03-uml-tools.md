---
layout:       post
title:        "设计模式之UML"
date:         2016-12-03 12:00:00
catalog:      true
tags:
    - 设计模式
---

UML (统一建模语言), 为面向对象开发系统的产品进行说明、可视化、和编制文档的一种标准语言。用来做软件蓝图相当于建筑图纸， 主要用于软件设计。UML 建模是为了能够更好地理解正在开发的系统。

UML 有多种图大体可以分为两类分别是结构图(Structure Diagram)和行为型的图(Behavior Diagram)，根据下面的表格我们就知道应该学哪些东西，不学哪些

![](/images/2016/1204uml_use.jpg)

## 类图关系

类图描述系统的静态结构
虚线箭头指向依赖；
实线箭头指向关联；
虚线三角指向接口；
实线三角指向父类；
空心菱形能分离而独立存在，是聚合；
实心菱形精密关联不可分，是组合；

![](/images/2016/uml_class.png)

组合关系是关联关系的一种，是比聚合关系更强的关系，部分与整体的生命周期不一定相同，关联只是表示两个类之前有交互，依赖完全与生命周期无关。
<font color = "red">泛化 = 实现 > 组合 > 聚合 > 关联 > 依赖</font>

## 时序图

时序图描述系统的动态行为。是一种对象交互图，用来描述系统的执行流程，一般用于分析源码。

时序图包括7部分：对象、生命线、控制焦点、消息、创建对象、销毁对象、结束点。

1. 对象： 表示的是时序图中的参与者，在外面画一个矩形，矩形内部的描述文字有三种格式：a.                    对象名: 类名 b. 类名 c.对象名。
2. 生命线：生命线表示了对象存在的时间,用虚线表示。
3. 控制焦点：表示对象执行某个操作的一段时间，可以理解为程序函数 { } 中的内容。
4. 消息：可以理解为函数调用，分为异步、同步、返回、自关联4种![](/images/2016/uml_time_message.jpg)
5. 创建对象：创建对象也算是消息的一种，通过发送消息的方式创建对象。![](/images/2016/uml_time_create.jpg)
6. 销毁对象：销毁对象也算是消息的一种，通过发送消息的方式销毁对象。![](/images/2016/uml_time_destory.jpg)
7. 结束点：标记整个业务结束的位置，实心黑圆圈，一般在控制焦点下面

![](/images/2016/uml_time_example.png)

## 用例图

帮助开发团队理解系统的功能需求，用来建立需求模型，主要解决两个问题： 1. 是谁用软件。2、软件的功能。从用户的角度描述了系统的功能。

用例图包括4部份：角色、用例、系统与边界、关系。

1. 角色：在系统外部与系统直接交互的人或事物。
2. 用例：就是外部可见的系统功能，对系统提供的服务进行描述。
3. 系统与边界：也叫子系统，用来展示系统的一部分功能，这部分功能联系紧密。
4. 关系：用例图中涉及的关系有：关联、泛化、包含、扩展；如下表：
![](/images/2016/uml_user_case_relation.png)

### 一个用例图示例：

![](/images/2016/uml_use_case_example.png)

感觉用例图还不成熟，并不能很好地表达系统的需求， 没有UML背景的用户几乎不知道画的些什么。


## 参考链接

https://www.cnblogs.com/wolf-sun/p/UML-Sequence-diagram.html

https://www.jianshu.com/p/51318fefdcaa

https://blog.csdn.net/tianhai110/article/details/6369762
